module Dodopayments
  module Models
    type subscription_create_params =
      {
        billing: Dodopayments::BillingAddress,
        customer: Dodopayments::Models::customer_request,
        product_id: String,
        quantity: Integer,
        addons: ::Array[Dodopayments::AttachAddon]?,
        allowed_payment_method_types: ::Array[Dodopayments::Models::payment_method_types]?,
        billing_currency: Dodopayments::Models::currency?,
        discount_code: String?,
        metadata: ::Hash[Symbol, String],
        on_demand: Dodopayments::SubscriptionCreateParams::OnDemand?,
        payment_link: bool?,
        return_url: String?,
        show_saved_payment_methods: bool,
        tax_id: String?,
        trial_period_days: Integer?
      }
      & Dodopayments::Internal::Type::request_parameters

    class SubscriptionCreateParams < Dodopayments::Internal::Type::BaseModel
      extend Dodopayments::Internal::Type::RequestParameters::Converter
      include Dodopayments::Internal::Type::RequestParameters

      attr_accessor billing: Dodopayments::BillingAddress

      attr_accessor customer: Dodopayments::Models::customer_request

      attr_accessor product_id: String

      attr_accessor quantity: Integer

      attr_accessor addons: ::Array[Dodopayments::AttachAddon]?

      attr_accessor allowed_payment_method_types: ::Array[Dodopayments::Models::payment_method_types]?

      attr_accessor billing_currency: Dodopayments::Models::currency?

      attr_accessor discount_code: String?

      attr_reader metadata: ::Hash[Symbol, String]?

      def metadata=: (::Hash[Symbol, String]) -> ::Hash[Symbol, String]

      attr_accessor on_demand: Dodopayments::SubscriptionCreateParams::OnDemand?

      attr_accessor payment_link: bool?

      attr_accessor return_url: String?

      attr_reader show_saved_payment_methods: bool?

      def show_saved_payment_methods=: (bool) -> bool

      attr_accessor tax_id: String?

      attr_accessor trial_period_days: Integer?

      def initialize: (
        billing: Dodopayments::BillingAddress,
        customer: Dodopayments::Models::customer_request,
        product_id: String,
        quantity: Integer,
        ?addons: ::Array[Dodopayments::AttachAddon]?,
        ?allowed_payment_method_types: ::Array[Dodopayments::Models::payment_method_types]?,
        ?billing_currency: Dodopayments::Models::currency?,
        ?discount_code: String?,
        ?metadata: ::Hash[Symbol, String],
        ?on_demand: Dodopayments::SubscriptionCreateParams::OnDemand?,
        ?payment_link: bool?,
        ?return_url: String?,
        ?show_saved_payment_methods: bool,
        ?tax_id: String?,
        ?trial_period_days: Integer?,
        ?request_options: Dodopayments::request_opts
      ) -> void

      def to_hash: -> {
        billing: Dodopayments::BillingAddress,
        customer: Dodopayments::Models::customer_request,
        product_id: String,
        quantity: Integer,
        addons: ::Array[Dodopayments::AttachAddon]?,
        allowed_payment_method_types: ::Array[Dodopayments::Models::payment_method_types]?,
        billing_currency: Dodopayments::Models::currency?,
        discount_code: String?,
        metadata: ::Hash[Symbol, String],
        on_demand: Dodopayments::SubscriptionCreateParams::OnDemand?,
        payment_link: bool?,
        return_url: String?,
        show_saved_payment_methods: bool,
        tax_id: String?,
        trial_period_days: Integer?,
        request_options: Dodopayments::RequestOptions
      }

      type on_demand =
        {
          mandate_only: bool,
          adaptive_currency_fees_inclusive: bool?,
          product_currency: Dodopayments::Models::currency?,
          product_description: String?,
          product_price: Integer?
        }

      class OnDemand < Dodopayments::Internal::Type::BaseModel
        attr_accessor mandate_only: bool

        attr_accessor adaptive_currency_fees_inclusive: bool?

        attr_accessor product_currency: Dodopayments::Models::currency?

        attr_accessor product_description: String?

        attr_accessor product_price: Integer?

        def initialize: (
          mandate_only: bool,
          ?adaptive_currency_fees_inclusive: bool?,
          ?product_currency: Dodopayments::Models::currency?,
          ?product_description: String?,
          ?product_price: Integer?
        ) -> void

        def to_hash: -> {
          mandate_only: bool,
          adaptive_currency_fees_inclusive: bool?,
          product_currency: Dodopayments::Models::currency?,
          product_description: String?,
          product_price: Integer?
        }
      end
    end
  end
end
